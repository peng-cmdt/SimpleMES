 1. 关于生产订单管理的细节问题：

  1.1 订单导入机制：
  - 对于Excel导入，具体需要支持哪些字段？是否有标准的Excel模板格式？
  - 初期开发阶段，我们要求Excle支持 生产号，日期，数量，订单序号，以及生产号下携带的BOM号
  - ERP系统集成：目前是否有特定的ERP系统需要对接？需要什么样的API接口？
  - 目前没有ERP，这个后面再设计
  - EDI接口：是否有具体的EDI标准规范要求？
  - 这个后面再设计

  1.2 订单状态管理：
  - 订单需要哪些状态？（如：待开始、进行中、已完成、已暂停、已取消等）
  - 同一个订单，比如生产产品A，那么我可能需要在5个工位上完成以后订单才算结束，比如M1->M2->M3->M4->M5，每个工位都是独立的，都会加载订单，但是生产A会按照上述的工位顺序开始生产，所以在数据库中，你需要设计订单的待开始、进行中、已完成、已暂停、已取消等状态，这个需要设计后续可能会有版本的迭代和更新
  - 订单优先级如何定义？是否支持紧急订单插队？
  - 订单进来之后都会有一个顺序，按照顺序生产即可，紧急情况可以支持插单处理，也就是认为的手工调整订单

  2. 关于BOM管理的细节：

  2.1 BOM结构：
  - BOM是否支持多层级结构（父件-子件-孙件）？
  - BOM你先只分为1级，后续会扩展成多结构的BOM
  - 是否需要支持替代料？如果主料缺货，能否自动使用替代料？
  - 目前不涉及这个功能
  - BOM是否需要包含工时定额、工艺参数等信息？
  - 目前不需要，后面再设计

  3. 关于工艺流程的核心问题：

  3.1 流程控制逻辑：
  - 是否支持条件分支？比如根据检测结果决定下一步走向？
  - 这个是由在工位中设计的步骤定义的，比如，某个M1工位上的检测异常结果，那么用户就设计了异常之后，执行什么步骤和动作
  - 是否支持并行步骤？比如两个工位同时进行不同操作？
  - 必须支持，就像我上面说的，比如M1->M2->M3->M4->M5，每个工位都是独立的，都会加载订单，都可同时打开订单，应为每个工位执行的步骤操作是不一样的
  - 是否支持循环操作？比如重复某个步骤直到满足条件？
  - 这个由设备，当检测某个值的时候，如果检测不过，那么系统会停留哪里一直检测，直到值正常后才能过，除非有人为干涉，强行跳过这个步骤了

  3.2 工位资源管理：
  - 一个工位是否可以同时处理多个步骤？
  - 工位目前分为两种，一种是需要在前端登录的客户端，这种工位步骤执行是可视化的，执行一步到下一步，按照设定的步骤依次执行，只能一次处理一个步骤，一个Action，还有一种是纯服务工位,这种工位没有界面，可以并行执行多个步骤
  - 如果指定工位故障，是否支持临时更换到备用工位？
  - 可以，但是需要配置相应的新的设备，然后登陆即可使用

  1. 关于Action执行的关键细节：

  4.1 设备通信：
  - 除了PLC读写，是否还需要支持其他设备类型？（如扫码枪、称重仪、温度传感器等）
  - 是的，Action是具体的动作执行行为，比如读写PLC的值，读取扫码枪值，读取相机的判断值，一般支持串口设备和TCP/IP设备，以及利用OPCUA与设备通信
  - PLC通信协议是什么？（Modbus、Ethernet/IP、Profinet等）
  - PLC通信主要依赖HSLCommunication.dll库,已经集成到后端的呢C#服务中了，这个库中的所有设备通讯其实都可以按照需要继承进来以供工位使用
  - 设备连接失败或超时的重试机制如何设计？
  - 这个已经在HSLCommunication.dll中设计了直接使用即可

  4.2 Action类型扩展：
  - 是否需要支持人工确认Action？（如人工检验、人工投料等）
  - 有此种类型的Action 比如延时，人工点击屏幕等动作
  - 是否需要数据校验Action？（如重量检查、尺寸检查等）
  - 需要的，读取设备的值需要和步骤中配置的值相匹配，需要检查是否是在一个范围内或者等于配置的值
  - 是否需要等待Action？（如固化时间、冷却时间等）
  - 这个先不考虑，后续再说

  1. 关于异常处理和数据追溯：

  5.1 异常处理策略：
  - Action失败后的处理策略：自动重试几次？重试间隔多长？
  - Action的时候需要记录日志，然后如果是可视化的客户端，那么需要在屏幕上出现错误的具体原因，高亮显示，不需要重试，等待人工处理
  - 是否需要建立异常等级？轻微异常继续执行，严重异常暂停流程？
  - 先不考虑，后续再设计
  - 异常发生时，是否需要通知相关人员？通过什么方式？
  - 需要通知，需要在屏幕上出现错误的具体原因，高亮显示红色警报，中断此工位接下来的所有步骤，等待人工处理

  5.2 数据记录需求：
  - 是否需要记录每个Action的执行时间、结果值、操作人员？
  - 是的，需要记录每一步的具体操作的所有信息
  - 生产过程中的关键参数（温度、压力、重量等）是否需要实时记录？
  - 是的必须如实记录
  - 数据保存多长时间？是否需要导出功能？
  - 数据保存10年，支持导出EXCLE或者md格式

  1. 关于用户界面和权限：

  6.1 实时监控界面：
  - 需要展示哪些信息？（当前步骤、完成进度、设备状态、异常告警等）
  - 实时界面在前端的客户端显示，我前面已经描述了具体的情况
  - 是否需要支持多订单并行监控？
  - 暂时不考虑，后续再设计
  - 是否需要历史数据查询和报表功能？
  - 需要查询所有的详细信息

  6.2 权限管理：
  - 需要哪些角色？（管理员、工艺工程师、操作员、质检员等）
  - 角色已经在项目中定义了，已经存入了数据库了
  - 每个角色具体有哪些权限？
  - 已经完成设计了，存入数据库了
  - 是否需要操作日志记录？
  - 需要所有的操作日志

  7. 关于性能和扩展性：

  7.1 并发处理：
  - 系统需要支持多少个并发订单？
  - 按照现有的设计，需要并发500个左右的订单
  - 单个工位是否支持并行处理多个动作？
  - 工位目前分为两种，一种是需要在前端登录的客户端，这种工位步骤执行是可视化的，执行一步到下一步，按照设定的步骤依次执行，只能一次处理一个步骤，一个Action，还有一种是纯服务工位,这种工位没有界面，可以并行执行多个步骤

  7.2 系统集成：
  - 是否需要与其他系统集成？（如WMS仓库管理、QMS质量管理等）
  - 暂时先不考虑，后续再设计
  - 是否需要提供标准API供第三方系统调用？
  - 暂时不考虑，后续再设计